!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="dist",n(n.s=4)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.eventClick=function(){var e,t=document.querySelector(".audioPlayer__play"),n=document.querySelector(".audioPlayer__next"),i=document.querySelector(".audioPlayer__prev");document.querySelector(".audioPlayer__repeat"),document.querySelector(".random__random");(e=document.querySelectorAll(".playlist__item")).forEach(function(t){t.addEventListener("click",function(t){var n=event.currentTarget;e.forEach(function(e){e.classList.remove("playlist__item--active")}),n.classList.contains("playlist__item--active")||n.classList.add("playlist__item--active")})}),n.addEventListener("click",function(e){var n=e.currentTarget,i=t.children;n.classList.contains("song-last")||(i[1].classList.add("svg-active"),i[0].classList.remove("svg-active"))}),i.addEventListener("click",function(e){var n=t.children;e.currentTarget.classList.contains("song-last")||(n[1].classList.add("svg-active"),n[0].classList.remove("svg-active"))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.carusel=function(){for(var e=document.querySelectorAll(".playlist__btn"),t=document.querySelector(".playlist__name--active"),n=document.querySelectorAll(".playlist__list"),i=document.querySelector(".playlist__list--active"),r=function(e,n){var r=e.previousElementSibling,c=n.previousElementSibling;e.classList.remove("playlist__list--active"),n.classList.remove("playlist__name--active"),r.classList.add("playlist__list--active"),c.classList.add("playlist__name--active"),i=r,t=c},c=function(){for(var e=0;e<n.length;e++)if(n[e].classList.contains("playlist__list--active"))return e},l=0;l<e.length;l++)e[l].addEventListener("click",function(e){var l,a,o,s,u=c(),d=e.currentTarget;if(d.classList.contains("playlist__btn--next")){if(!(u<n.length-1))return;a=t,o=(l=i).nextElementSibling,s=a.nextElementSibling,l.classList.remove("playlist__list--active"),a.classList.remove("playlist__name--active"),s.classList.add("playlist__name--active"),o.classList.add("playlist__list--active"),i=o,t=s}if(d.classList.contains("playlist__btn--prev")){if(!(u>0))return;r(i,t)}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.audioPlayer=void 0;var i=n(1),r=n(0);t.audioPlayer=function(){var e=document.querySelector(".audioPlayer__play"),t=document.querySelector(".audioPlayer__next"),n=document.querySelector(".audioPlayer__prev"),c=document.querySelector(".audioPlayer__repeat"),l=document.querySelector(".random__random"),a=document.querySelector(".volume__item"),o=document.querySelector(".audioPlayer__volume"),s=document.querySelector(".audioPlayer__track"),u=document.querySelector(".track__item"),d=document.querySelector(".audioPlayer__wrapp"),v=document.querySelector(".track__current-time"),m=new Audio,f=void 0;new Promise(function(e,t){var n=new XMLHttpRequest;n.open("GET","../../json/playlist.json",!0),n.addEventListener("readystatechange",function(){4==n.readyState&&200==n.status&&e(n.response)}),n.send()}).then(function(e){return y(JSON.parse(e),_,M)});var y=function(e,t,n){for(var c,l,a,o=Object.getOwnPropertyNames(e),s=document.getElementById("slider"),u=0;u<o.length;u++)c=e[o[u]],void 0,void 0,l=document.getElementById("template").innerHTML,a=Handlebars.compile(l)(c),s.innerHTML=document.getElementById("slider").innerHTML+a;var d=s.querySelector(".playlist__list");d.classList.add("playlist__list--active"),d.classList.add("slider--active"),t(e.playlistOne),n(e),f=e,(0,i.carusel)(),(0,r.eventClick)()},_=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e[0];m.src=i.srcMusic,T(document.querySelectorAll(".playlist__item"),"playlist__item--active"),document.querySelector('[data-url="'+i.srcMusic+'"]').classList.add("playlist__item--active"),t.onclick=function(t){L(e,m.src)<e.length-1&&p(e)},n.onclick=function(t){L(e,m.src)>0&&g(e)},m.onended=function(){L(e,m.src)<e.length-1?p(e):(h(),h())}},p=function(e){T(document.querySelectorAll(".playlist__item"),"playlist__item--active");var t=L(e,m.src);document.querySelector('[data-url="'+e[t+1].srcMusic+'"]').classList.add("playlist__item--active"),m.src=e[t+1].srcMusic,h()},g=function(e){var t=L(e,m.src);T(document.querySelectorAll(".playlist__item"),"playlist__item--active"),document.querySelector('[data-url="'+e[t-1].srcMusic+'"]').classList.add("playlist__item--active"),m.src=e[t-1].srcMusic,h()},L=function(e,t){for(var n=void 0,i=0;i<e.length;i++)if(n=e[i].srcMusic,new RegExp(n).test(t))return i};m.addEventListener("timeupdate",function(e){var t=e.currentTarget.duration,n=e.currentTarget.currentTime;u.style.width=100/t*n+"%"});var h=function(){var e=document.querySelector(".svg-play-js");m.paused?(m.play(),e.classList.remove("svg-active"),e.nextElementSibling.classList.add("svg-active")):(m.pause(),e.classList.add("svg-active"),e.nextElementSibling.classList.remove("svg-active"))};e.addEventListener("click",function(){h()});a.style.width=100*m.volume+"%",o.addEventListener("mousedown",function(e){e.preventDefault();var t=a.clientWidth,n=function(n){S(e.pageX,n.pageX,t)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",function(){document.removeEventListener("mousemove",n)})}),o.addEventListener("click",function(e){var t=-1*(e.currentTarget.offsetLeft-e.pageX);a.style.width=t+"px",E(t)});var S=function(e,t,n){var i=e-t,r=a.clientWidth/1.6;a.style.width=Math.min(n-i,Math.max(0,o.clientWidth))+"px",E(r)},E=function(e){m.volume=1*e/100>1?1:1*e/100};s.addEventListener("click",function(e){u.style.width=0,u.style.width=e.offsetX/e.currentTarget.offsetWidth*100+"%",m.currentTime=q(e.offsetX,e.currentTarget.offsetWidth)});var q=function(e,t){return e/t*100*m.duration/100};d.addEventListener("mouseover",function(e){e.preventDefault();var t=e.pageX,n=e.offsetX,i=function(e){var i=t-e.pageX;v.style.left=Math.min(n-i,Math.max(0,d.offsetWidth))+"px",v.classList.add("visible");var r=q(e.offsetX,e.target.offsetWidth);m.duration<60?v.textContent="0."+Math.floor(r):v.textContent=(r/60).toFixed(2)};document.addEventListener("mousemove",i),d.addEventListener("mouseout",function(){v.classList.remove("visible"),document.removeEventListener("mousemove",i)})}),c.addEventListener("click",function(e){P(e.currentTarget),m.loop?m.loop=!1:m.loop=!0});var b=void 0;l.addEventListener("click",function(e){P(e.currentTarget);var t=document.querySelectorAll(".playlist__list"),n=Object.getOwnPropertyNames(f),i=e.currentTarget,r=function(e,t){var n=function(e){for(var t=0;t<e.length;t++)if(e[t].classList.contains("playlist__list--active"))return t}(t);return e.classList.contains("active")?b=n:n=b,n}(i,t),c=f[n[r]].slice();if(i.classList.contains("active")){var l=function(e){for(var t=void 0,n=void 0,i=e.length-1;i>0;i--)n=e[t=Math.floor(Math.random()*(i+1))],e[t]=e[i],e[i]=n;return e}(c);_(l)}else _(f[n[r]]);h()});var M=function(e){var t=document.querySelectorAll(".playlist__item"),n=Object.getOwnPropertyNames(e);t.forEach(function(t){t.onclick=function(t){for(var i=document.querySelectorAll(".playlist__list"),r=t.currentTarget.getAttribute("data-url"),c=void 0,l=void 0,a=0;a<i.length;a++)i[a].classList.contains("playlist__list--active")&&(c=L(e[n[a]],r),l=n[a],_(e[l],e[l][c]));h()}})},P=function(e){var t=e;t.classList.contains("active")?t.classList.remove("active"):t.classList.add("active")},T=function(e,t){for(var n=0;n<e.length;n++)e[n].classList.remove(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.scroll=function(){var e=document.querySelector(".scroll-bar"),t=document.querySelector(".scroll-bar__track"),n=document.querySelectorAll(".playlist__list"),i=new Event("scroll");n.forEach(function(n){n.addEventListener("scroll",function(n){var i=document.querySelector(".playlist__list--active");t.style.height=e.clientHeight*i.clientHeight/i.scrollHeight+"px",t.style.top=e.clientHeight*i.scrollTop/i.scrollHeight+"px"})}),n.forEach(function(e){e.dispatchEvent(i)}),t.addEventListener("mousedown",function(i){i.preventDefault();var r=t.offsetTop,c=function(c){var l=document.querySelector(".playlist__list--active"),a=c.pageY-i.pageY;t.style.bacgroundColor="#d24a43",t.style.top=Math.min(e.clientHeight-t.clientHeight,Math.max(0,r+a))+"px",t.scrollTop=n.clientHeight+t.offsetTop/e.clientHeight,l.scrollTop=l.scrollHeight*t.offsetTop/e.clientHeight};document.addEventListener("mousemove",c),document.addEventListener("mouseup",function(){document.removeEventListener("mousemove",c)})})}},function(e,t,n){"use strict";var i=n(3),r=n(2);document.addEventListener("DOMContentLoaded",function(e){(0,i.scroll)(),(0,r.audioPlayer)()})}]);
//# sourceMappingURL=main.js.map